<!DOCTYPE html>
<html lang="zh-tw">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/png" href="favicon.png" />
    <meta property="og:title" content="AI Gacha" />
    <meta name="og:image" content="https://ai-gacha.aotoki.dev/thumbnail.png" />

    <meta name="twitter:title" content="AI Gacha" />
    <meta name="twitter:image" content="https://ai-gacha.aotoki.dev/thumbnail.png" />
    <meta name="twitter:card" content="summary_large_image" />
    <title>AI Gacha - by 蒼時弦也</title>
  </head>
  <body class="text-red-700 bg-zinc-900 font-cubic11">
    <main id="app" class="flex flex-col md:flex-row justify-center items-center container mx-auto px-4 my-6 space-y-8 md:space-x-8" data-controller="gacha config" data-action="config:tokenChanged->gacha#setupClient">
      <div class="relative">
        <div class="absolute inset-x-0 inset-y-0 animate-expand">
          <div class="absolute top-0 inset-x-0 concern concern-top"></div>
          <div class="absolute bottom-0 inset-x-0 concern concern-bottom"></div>
        </div>
        <canvas class="bg-zinc-900 max-w-full" data-controller="card" data-gacha-target="subscriber" data-action="gacha:start->card#clear gacha:processing->card#draw gacha:success->card#draw gacha:download->card#download" width="320" height="576" data-testid="card"></canvas>
        <div class="absolute top-1/2 left-0 right-0 px-5 py-4 bg-zinc-900 text-center text-red-700" data-controller="status" data-gacha-target="subscriber" data-action="gacha:start->status#start gacha:success->status#success gacha:failed->status#failed" data-testid="status">[AIGACHA::V1.0]</div>
      </div>
      <aside>
        <h1 class="mb-2 text-xl">概率</h1>
        <p class="mb-4 text-sm text-red-800">產生的畫面會盡可能接近以下要素</p>
        <div class="space-y-6 text-sm">
          <section class="space-y-2">
            <h1>種族</h1><div data-config-target="attribute" data-config-type="race"></div>
          </section>
          <section class="space-y-2">
            <h1>髮型</h1><div class="space-x-2" data-config-target="attribute" data-config-type="hairLength"></div>
          </section>
          <section class="space-y-2">
            <h1>髮色</h1><div data-config-target="attribute" data-config-type="hairColor"></div>
          </section>
          <section class="space-y-2">
            <h1>瞳色</h1><div data-config-target="attribute" data-config-type="eyeColor"></div>
          </section>
          <section class="space-y-2">
            <h1>細化</h1><div data-config-target="attribute" data-config-type="isHires"></div>
          </section>
        </div>
        <hr class="my-8 border-t border-red-900" />
        <section class="flex flex-col md:flex-row max-w-full">
          <input class="input" type="password" placeholder="Replicate API Token" data-config-target="token" data-action="config#setToken" data-testid="token" />
          <button class="btn btn-primary border-t-0 md:border-t md:border-l-0" data-gacha-target="drawButton" data-action="click->gacha#draw" disabled>製作</button>
          <button class="btn btn-primary border-t-0 md:border-t md:border-l-0" data-gacha-target="downloadButton" data-action="click->gacha#download" disabled>下載</button>
        </section>
        <p class="mt-2 text-sm text-red-800">Pastel Mix 模型預設非商業使用，請使用 <a href="https://replicate.com/account" target="_blank" class="text-red-500 cursor-pointer">Replicate</a> 的 API Token 來運行，會被收取少量的運算費用。</p>
      </aside>
    </main>
    <footer class="container mx-auto p-2 pb-6 text-center space-y-2">
      <div>原始碼位於 <a href="https://github.com/elct9620/ai-gacha" target="_blank" class="text-red-500">GitHub</a>，如果喜歡這個專案可以透過<a href="https://portaly.cc/aotoki/support" target="_blank" class="text-red-500">贊助</a>支持我</div>
      <div>Powered by <a href="https://blog.aotoki.me" target="_blank" title="蒼時弦也"><img src="https://blog.aotoki.me/images/logo.svg" width="100" height="15" class="inline-block mx-2" alt="蒼時弦也" /></a> Model based on <a href="https://huggingface.co/andite/pastel-mix" target="_blank" class="text-red-500">Pastel Mix</a></div>
    </footer>
    <script type="module" src="/src/main.ts"></script>
  </body>
</html>
